# üìö BookHive - Telegram Bot –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∫–Ω–∏–≥

![Python](https://img.shields.io/badge/Python-3.12-blue?logo=python)
![SQLAlchemy](https://img.shields.io/badge/SQLAlchemy-2.0-red?logo=sqlalchemy)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15-blue?logo=postgresql)
![Telegram](https://img.shields.io/badge/Telegram-Bot-blue?logo=telegram)


**BookHive** - –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π Telegram –±–æ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∫–Ω–∏–≥ —Å –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–µ–π, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–Ω–µ–ª—å—é –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏.

---

## üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- üìñ **–ö–∞—Ç–∞–ª–æ–≥ –∫–Ω–∏–≥** - –ø—Ä–æ—Å–º–æ—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- üîç **–ü–æ–∏—Å–∫** - –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∫–Ω–∏–≥–∏ –∏–ª–∏ –∞–≤—Ç–æ—Ä—É (—Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π)
- üîñ **–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** - –≤—ã–±–æ—Ä –¥–∞—Ç—ã —á–µ—Ä–µ–∑ –∫–∞–ª–µ–Ω–¥–∞—Ä—å, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- üìã **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–æ–Ω—è–º–∏** - –ø—Ä–æ—Å–º–æ—Ç—Ä –∞–∫—Ç–∏–≤–Ω—ã—Ö –±—Ä–æ–Ω–µ–π, –æ—Ç–º–µ–Ω–∞
- üéØ **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è** - —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª—é–±–∏–º—ã—Ö –∂–∞–Ω—Ä–æ–≤
- üÜï **–ù–æ–≤–∏–Ω–∫–∏** - –ø–æ–∫–∞–∑ –∫–Ω–∏–≥, –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π
- üë§ **–ü—Ä–æ—Ñ–∏–ª—å** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±—Ä–æ–Ω–µ–π, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- üîî **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∑–∞ –¥–µ–Ω—å –¥–æ –¥–∞—Ç—ã –ø–æ–ª—É—á–µ–Ω–∏—è –∫–Ω–∏–≥–∏

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:
- üëë **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** - –ø–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
- üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –ø—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –±—Ä–æ–Ω–µ–π, –∫–Ω–∏–≥ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üìà **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** - –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- üîê **–ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ ADMIN_IDS

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **–Ø–∑—ã–∫:** Python 3.12
- **Framework:** python-telegram-bot 21.x
- **ORM:** SQLAlchemy 2.0
- **–ë–î:** PostgreSQL 15 (—Å JSONB)
- **–ö–∞–ª–µ–Ω–¥–∞—Ä—å:** python-telegram-bot-calendar
- **VCS:** Git + GitHub

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- Python 3.12+
- PostgreSQL 15+
- Telegram Bot Token (–æ—Ç [@BotFather](https://t.me/BotFather))

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/megaknight24/BookHive.git
cd BookHive
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
python3 -m venv venv

# Linux/Mac:
source venv/bin/activate

# Windows:
venv\Scripts\activate
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PostgreSQL

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ PostgreSQL
psql -U postgres

# –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
\i setup_postgres.sql

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
CREATE DATABASE bookhive;
CREATE USER bookhive_user WITH PASSWORD 'bookhive_secret_123';
GRANT ALL PRIVILEGES ON DATABASE bookhive TO bookhive_user;

# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –±–∞–∑–µ
\c bookhive

# –î–∞–π—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ —Å—Ö–µ–º—É (PostgreSQL 15+)
GRANT ALL ON SCHEMA public TO bookhive_user;
GRANT CREATE ON SCHEMA public TO bookhive_user;
```

### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
# Bot Token
BOT_TOKEN=YOUR_BOT_TOKEN_FROM_BOTFATHER

# Database
DB_USER=bookhive_user
DB_PASSWORD=bookhive_secret_123
DB_HOST=localhost
DB_PORT=5432
DB_NAME=bookhive

# Admin IDs (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
ADMIN_IDS=123456789,987654321

# Settings
BOOKS_PER_PAGE=5
REMINDER_DAYS_BEFORE=1
```

**–í–∞–∂–Ω–æ:** 
- –ü–æ–ª—É—á–∏—Ç–µ `BOT_TOKEN` —É [@BotFather](https://t.me/BotFather)
- –£–∑–Ω–∞–π—Ç–µ —Å–≤–æ–π `ADMIN_ID` —É [@userinfobot](https://t.me/userinfobot)

### 6. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –≤ –ë–î

```bash
python create_db.py
```

–í—ã–≤–æ–¥:
```
üèóÔ∏è  Creating BookHive Database Tables
‚úÖ Connection successful!
‚úÖ All tables created successfully!
‚úÖ Found 4 tables:
   üìä users (6 columns)
   üìä categories (4 columns)
   üìä books (10 columns)
   üìä bookings (8 columns)
```

### 7. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```bash
python seed_db.py
```

–í—ã–≤–æ–¥:
```
üå± Seeding BookHive Database
‚úÖ Created 6 categories
‚úÖ Created 13 books
‚úÖ Created 3 test users
‚úÖ Created 3 test bookings
```

### 8. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
python run.py
```

–í—ã–≤–æ–¥:
```
ü§ñ BookHive Bot –∑–∞–ø—É—â–µ–Ω!
‚úÖ –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –∂–¥—ë—Ç —Å–æ–æ–±—â–µ–Ω–∏–π...
üì± –û—Ç–∫—Ä–æ–π Telegram –∏ –Ω–∞–ø–∏—à–∏ –±–æ—Ç—É /start
```

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
BookHive/
‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ main.py                    # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ handlers/                  # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ catalog.py             # –ö–∞—Ç–∞–ª–æ–≥ –∫–Ω–∏–≥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ search.py              # –ü–æ–∏—Å–∫
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ booking.py             # –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ my_bookings.py         # –ú–æ–∏ –±—Ä–æ–Ω–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ new_books.py           # –ù–æ–≤–∏–Ω–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ personalized.py        # –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ profile.py             # –ü—Ä–æ—Ñ–∏–ª—å
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ admin.py               # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îÇ   ‚îî‚îÄ‚îÄ keyboards/                 # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îú‚îÄ‚îÄ main_menu.py           # –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
‚îÇ       ‚îî‚îÄ‚îÄ catalog.py             # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∫–∞—Ç–∞–ª–æ–≥–∞
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ connection.py              # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ models.py                  # –ú–æ–¥–µ–ª–∏ (User, Category, Book, Booking)
‚îÇ   ‚îî‚îÄ‚îÄ crud.py                    # CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ (50+ —Ñ—É–Ω–∫—Ü–∏–π)
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ settings.py                # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ .env
‚îú‚îÄ‚îÄ .env                           # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–µ –≤ git)
‚îú‚îÄ‚îÄ .env.example                   # –ü—Ä–∏–º–µ—Ä .env —Ñ–∞–π–ª–∞
‚îú‚îÄ‚îÄ .gitignore                     # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ requirements.txt               # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ run.py                         # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ create_db.py                   # –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü
‚îú‚îÄ‚îÄ seed_db.py                     # –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
‚îú‚îÄ‚îÄ test_db.py                     # –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
‚îú‚îÄ‚îÄ test_crud.py                   # –¢–µ—Å—Ç—ã CRUD –æ–ø–µ—Ä–∞—Ü–∏–π
‚îú‚îÄ‚îÄ setup_postgres.sql             # SQL —Å–∫—Ä–∏–ø—Ç –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ PostgreSQL
‚îî‚îÄ‚îÄ README.md                      # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

---

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü—ã:

#### 1. `users` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
```sql
id                      SERIAL PRIMARY KEY
telegram_id             INTEGER UNIQUE NOT NULL
name                    VARCHAR(255) NOT NULL
favorite_genres         JSONB DEFAULT '[]'
notifications_enabled   BOOLEAN DEFAULT true
created_at              TIMESTAMP DEFAULT NOW()
```

#### 2. `categories` - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–Ω–∏–≥
```sql
id              SERIAL PRIMARY KEY
name            VARCHAR(100) UNIQUE NOT NULL
emoji           VARCHAR(10) DEFAULT 'üìö'
description     TEXT
```

#### 3. `books` - –ö–Ω–∏–≥–∏
```sql
id              SERIAL PRIMARY KEY
title           VARCHAR(255) NOT NULL
author          VARCHAR(255) NOT NULL
description     TEXT
price           FLOAT NOT NULL
cover_photo_id  VARCHAR(255)
genres          JSONB DEFAULT '[]'
is_available    BOOLEAN DEFAULT true
is_new          BOOLEAN DEFAULT false
created_at      TIMESTAMP DEFAULT NOW()
category_id     INTEGER REFERENCES categories(id)
```

#### 4. `bookings` - –ë—Ä–æ–Ω–∏
```sql
id              SERIAL PRIMARY KEY
user_id         INTEGER REFERENCES users(id)
book_id         INTEGER REFERENCES books(id)
status          VARCHAR(20) DEFAULT 'active'
pickup_date     DATE NOT NULL
comment         TEXT
created_at      TIMESTAMP DEFAULT NOW()
updated_at      TIMESTAMP DEFAULT NOW()
```

---

## üéÆ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ö–æ–º–∞–Ω–¥—ã:
- `/start` - –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º, –ø–æ–∫–∞–∑–∞—Ç—å –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- `/help` - –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
- `/admin` - –û—Ç–∫—Ä—ã—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤)

### –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é:

```
[üìñ –ö–∞—Ç–∞–ª–æ–≥]     [üîç –ü–æ–∏—Å–∫]
[üéØ –î–ª—è –º–µ–Ω—è]    [üìã –ú–æ–∏ –±—Ä–æ–Ω–∏]
[üÜï –ù–æ–≤–∏–Ω–∫–∏]     [üë§ –ü—Ä–æ—Ñ–∏–ª—å]
```

### –ü—Ä–æ—Ü–µ—Å—Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:

1. –í—ã–±–µ—Ä–∏—Ç–µ –∫–Ω–∏–≥—É –≤ –∫–∞—Ç–∞–ª–æ–≥–µ –∏–ª–∏ —á–µ—Ä–µ–∑ –ø–æ–∏—Å–∫
2. –ù–∞–∂–º–∏—Ç–µ "üîñ –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å"
3. –í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É –ø–æ–ª—É—á–µ–Ω–∏—è –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ (–¥–æ 30 –¥–Ω–µ–π –≤–ø–µ—Ä—ë–¥)
4. –î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –∏–ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–µ
5. –ü–æ–ª—É—á–∏—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å –Ω–æ–º–µ—Ä–æ–º –±—Ä–æ–Ω–∏

### –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "üéØ –î–ª—è –º–µ–Ω—è"
2. –ù–∞–∂–º–∏—Ç–µ "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∂–∞–Ω—Ä—ã"
3. –í–≤–µ–¥–∏—Ç–µ –ª—é–±–∏–º—ã–µ –∂–∞–Ω—Ä—ã —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
4. –ü–æ–ª—É—á–∞–π—Ç–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–∏—Ö –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π

### –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å:

–î–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏–∑ `ADMIN_IDS`:
- –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –±—Ä–æ–Ω–µ–π
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∫–Ω–∏–≥
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î:
```bash
python test_db.py
```

### –¢–µ—Å—Ç CRUD –æ–ø–µ—Ä–∞—Ü–∏–π:
```bash
python test_crud.py
```

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
psql -U bookhive_user -d bookhive -h localhost

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–∞–±–ª–∏—Ü
\dt

# –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö
SELECT * FROM users;
SELECT * FROM books;
SELECT * FROM bookings;
```

---

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:

```python
from database import crud

category = crud.create_category(
    name="–§—ç–Ω—Ç–µ–∑–∏",
    emoji="üßô",
    description="–§—ç–Ω—Ç–µ–∑–∏ –∏ –º–∞–≥–∏—è"
)
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∫–Ω–∏–≥–∏:

```python
book = crud.create_book(
    title="–í–ª–∞—Å—Ç–µ–ª–∏–Ω –ö–æ–ª–µ—Ü",
    author="–î–∂. –†. –†. –¢–æ–ª–∫–∏–Ω",
    price=899.0,
    category_id=1,
    description="–≠–ø–∏—á–µ—Å–∫–∞—è —Ñ—ç–Ω—Ç–µ–∑–∏-—Å–∞–≥–∞",
    genres=["—Ñ—ç–Ω—Ç–µ–∑–∏", "—ç–ø–∏–∫", "–ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è"],
    is_new=True
)
```

### –°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ:

```python
from datetime import date, timedelta

booking = crud.create_booking(
    user_telegram_id=123456789,
    book_id=1,
    pickup_date=date.today() + timedelta(days=7),
    comment="–ó–∞–±–µ—Ä—É –≤–µ—á–µ—Ä–æ–º"
)
```

---

## üìä API / CRUD —Ñ—É–Ω–∫—Ü–∏–∏

### User CRUD:
- `create_user(telegram_id, name, favorite_genres)`
- `get_user_by_telegram_id(telegram_id)`
- `update_user_genres(telegram_id, genres)`
- `toggle_user_notifications(telegram_id)`
- `delete_user(telegram_id)`

### Book CRUD:
- `create_book(title, author, price, category_id, ...)`
- `get_book_by_id(book_id)`
- `get_books_by_category(category_id, limit, offset)`
- `search_books(query_text, limit)`
- `get_books_by_genres(genres, limit)`
- `get_new_books(days, limit)`

### Booking CRUD:
- `create_booking(user_telegram_id, book_id, pickup_date, comment)`
- `get_booking_by_id(booking_id)`
- `get_user_bookings(telegram_id, status)`
- `cancel_booking(booking_id)`
- `complete_booking(booking_id)`

–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫: 50+ —Ñ—É–Ω–∫—Ü–∏–π –≤ `database/crud.py`

---

## üë§ –ê–≤—Ç–æ—Ä

**michaeeeel1**

- GitHub: [@michaeeeel1](https://github.com/megaknight24)
- Telegram Bot: [@Book_Hive_bot](https://t.me/bookhive_bot) *(–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ—é —Å—Å—ã–ª–∫—É)*

---

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- [python-telegram-bot](https://github.com/python-telegram-bot/python-telegram-bot) - –æ—Ç–ª–∏—á–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Telegram –±–æ—Ç–æ–≤
- [SQLAlchemy](https://www.sqlalchemy.org/) - –º–æ—â–Ω—ã–π ORM –¥–ª—è Python
- [PostgreSQL](https://www.postgresql.org/) - –Ω–∞–¥—ë–∂–Ω–∞—è –°–£–ë–î
- [python-telegram-bot-calendar](https://github.com/unmonoqueteclea/python-telegram-bot-calendar) - –∫—Ä–∞—Å–∏–≤—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å

---

**‚≠ê –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –ø–æ–Ω—Ä–∞–≤–∏–ª—Å—è - –ø–æ—Å—Ç–∞–≤—å—Ç–µ –∑–≤–µ–∑–¥—É –Ω–∞ GitHub! ‚≠ê**
